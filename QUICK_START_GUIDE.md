# ğŸš€ Admin Dashboard å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ğŸ“‹ ä¿®å¤å®Œæˆç¡®è®¤

âœ… **æ‰€æœ‰ API è¿æ¥é—®é¢˜å·²ä¿®å¤å®Œæˆï¼**

### ä¿®å¤çš„é—®é¢˜:
1. âœ… ç«¯å£é…ç½®ä¸åŒ¹é… (5004 â†’ 5002)
2. âœ… ç®¡ç†å‘˜ç™»å½• API è·¯å¾„é”™è¯¯ (/api/auth/login â†’ /auth/login)
3. âœ… ç¼ºå°‘ç®¡ç†å‘˜ä¸“ç”¨è¯·æ±‚å®ä¾‹
4. âœ… API è·¯å¾„æ˜ å°„é”™è¯¯
5. âœ… è¯Šæ–­å·¥å…·é…ç½®è¿‡æ—¶

## ğŸ”§ å¯åŠ¨æ­¥éª¤

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
npm install  # å¦‚æœè¿˜æ²¡å®‰è£…ä¾èµ–
npm start    # æˆ– node server.js
```

**ç¡®è®¤åç«¯å¯åŠ¨æˆåŠŸ:**
- æ§åˆ¶å°æ˜¾ç¤º: `æœåŠ¡å™¨è¿è¡Œåœ¨ç«¯å£ 5002`
- è®¿é—®: http://localhost:5002/api/health è¿”å› "OK"

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
cd admin-dashboard
npm install  # å¦‚æœè¿˜æ²¡å®‰è£…ä¾èµ–
npm run dev
```

**ç¡®è®¤å‰ç«¯å¯åŠ¨æˆåŠŸ:**
- æ§åˆ¶å°æ˜¾ç¤º: `Local: http://localhost:5177/`
- æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ç®¡ç†åå°

### 3. ç™»å½•æµ‹è¯•
**ç®¡ç†å‘˜å‡­æ®:**
```
ç”¨æˆ·å: Huan
å¯†ç : Huanst518
```

## ğŸ§ª éªŒè¯å·¥å…·

### 1. API è¿æ¥æµ‹è¯• (æ¨è)
```bash
node admin-dashboard/api-connection-test.js
```

### 2. å¯è§†åŒ–è¯Šæ–­é¡µé¢
```bash
open admin-dashboard/login-diagnosis.html
```

### 3. å¿«é€Ÿç™»å½•æµ‹è¯•
```bash
node admin-dashboard/quick-login-test.js
```

## ğŸ“Š API æ¶æ„è¯´æ˜

### è¯·æ±‚å®ä¾‹åˆ†å·¥
```
request (http://localhost:5002/api)
â”œâ”€â”€ ä»ªè¡¨ç›˜æ•°æ® (/api/dashboard/*)
â”œâ”€â”€ å›¾ç‰‡ç”Ÿæˆ (/api/generate-image)
â””â”€â”€ ç”¨æˆ·èµ„æ–™ (/api/user/profile)

adminRequest (http://localhost:5002)
â”œâ”€â”€ ç®¡ç†å‘˜è®¤è¯ (/auth/*)
â”œâ”€â”€ ç”¨æˆ·ç®¡ç† (/admin/users/*)
â”œâ”€â”€ å›¾ç‰‡ç®¡ç† (/admin/images/*)
â””â”€â”€ ç³»ç»Ÿè®¾ç½® (/admin/system/*)
```

### æƒé™éªŒè¯
```
/api/* â†’ authenticateToken (æ™®é€šç”¨æˆ·æƒé™)
/admin/* â†’ authenticateAdmin (ç®¡ç†å‘˜æƒé™)
/auth/* â†’ authenticateAdmin (ç®¡ç†å‘˜æƒé™)
```

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜ 1: åç«¯è¿æ¥å¤±è´¥
**ç—‡çŠ¶:** å‰ç«¯æ˜¾ç¤ºç½‘ç»œé”™è¯¯
**è§£å†³:**
1. ç¡®è®¤åç«¯æœåŠ¡åœ¨ç«¯å£ 5002 è¿è¡Œ
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. è¿è¡Œ: `curl http://localhost:5002/api/health`

### é—®é¢˜ 2: ç™»å½•å¤±è´¥
**ç—‡çŠ¶:** ç”¨æˆ·åå¯†ç æ­£ç¡®ä½†ç™»å½•å¤±è´¥
**è§£å†³:**
1. ç¡®è®¤ä½¿ç”¨ç®¡ç†å‘˜å‡­æ® (Huan/Huanst518)
2. æ£€æŸ¥åç«¯æ•°æ®åº“è¿æ¥
3. æŸ¥çœ‹åç«¯æ§åˆ¶å°é”™è¯¯æ—¥å¿—

### é—®é¢˜ 3: æƒé™ä¸è¶³
**ç—‡çŠ¶:** ç™»å½•æˆåŠŸä½†æ— æ³•è®¿é—®ç®¡ç†åŠŸèƒ½
**è§£å†³:**
1. ç¡®è®¤ç”¨æˆ·åœ¨ `admins` è¡¨ä¸­è€Œé `users` è¡¨
2. æ£€æŸ¥ç”¨æˆ·çŠ¶æ€ä¸º 'active'
3. éªŒè¯ JWT ä»¤ç‰Œæœ‰æ•ˆæ€§

## ğŸ“ é‡è¦æ–‡ä»¶è¯´æ˜

### é…ç½®æ–‡ä»¶
- `src/utils/request.js` - API è¯·æ±‚é…ç½®
- `vite.config.js` - å¼€å‘æœåŠ¡å™¨ä»£ç†é…ç½®

### API æ¨¡å—
- `src/api/auth.js` - è®¤è¯ç›¸å…³ API
- `src/api/user.js` - ç”¨æˆ·ç®¡ç† API
- `src/api/dashboard.js` - ä»ªè¡¨ç›˜ API
- `src/api/system.js` - ç³»ç»Ÿè®¾ç½® API

### æµ‹è¯•å·¥å…·
- `api-connection-test.js` - è‡ªåŠ¨åŒ–è¿æ¥æµ‹è¯•
- `login-diagnosis.html` - å¯è§†åŒ–è¯Šæ–­å·¥å…·
- `quick-login-test.js` - å¿«é€Ÿç™»å½•æµ‹è¯•

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè®®

### å¼€å‘ç¯å¢ƒä¼˜åŒ–
1. é…ç½®ç¯å¢ƒå˜é‡ç®¡ç† API åœ°å€
2. æ·»åŠ  API å“åº”ç¼“å­˜æœºåˆ¶
3. é›†æˆè‡ªåŠ¨åŒ–æµ‹è¯•åˆ°å¼€å‘æµç¨‹

### ç”Ÿäº§ç¯å¢ƒå‡†å¤‡
1. é…ç½® HTTPS å’ŒåŸŸå
2. è®¾ç½® API é™æµå’Œå®‰å…¨ç­–ç•¥
3. é…ç½®æ—¥å¿—ç›‘æ§å’Œå‘Šè­¦

### åŠŸèƒ½æ‰©å±•
1. æ·»åŠ æ›´å¤šç®¡ç†åŠŸèƒ½æ¨¡å—
2. ä¼˜åŒ–ç”¨æˆ·ä½“éªŒå’Œç•Œé¢è®¾è®¡
3. å¢åŠ æ•°æ®å¯è§†åŒ–å›¾è¡¨

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥:
1. ğŸ“„ `API_FIX_SUMMARY.md` - è¯¦ç»†ä¿®å¤è¯´æ˜
2. ğŸ“„ `CHANGELOG.md` - æ›´æ–°å†å²è®°å½•
3. ğŸ§ª è¿è¡Œæµ‹è¯•å·¥å…·è¿›è¡Œè¯Šæ–­

---

**çŠ¶æ€**: âœ… ä¿®å¤å®Œæˆï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨  
**æœ€åæ›´æ–°**: 2025-07-18  
**ç‰ˆæœ¬**: v1.1.0 (API è¿æ¥ä¿®å¤ç‰ˆ)
