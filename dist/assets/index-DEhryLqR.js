import{bL as E,bv as T,dU as I,bT as g,bV as l,cb as e,c4 as t,cd as M,bw as a,c5 as R,cc as j,c8 as d,bU as f,bu as G,bQ as W,cg as Q,dT as Y,ca as J,cD as K,c3 as A,c9 as D,bY as O,db as P,c7 as X}from"./vendor-CXaOXOXP.js";import{a as C,_ as k,u as Z}from"./index-BLw7aUal.js";import{g as L,h as ee,m as te,j as se,k as ae,l as ne,n as F,u as w,t as le,p as oe,o as ue,q as ie,r as de,s as V,b as re,v as ce,w as _e,x as me,y as pe,A as fe,B as he,C as be,D as ge,F as ve,G as ye}from"./element-plus-wIhg9Y3M.js";const xe={class:"sidebar"},we={class:"sidebar-logo"},Ee={class:"logo-content"},Ce={class:"logo-text"},ke={class:"sidebar-menu"},Se=E({__name:"Sidebar",setup(S){const c=I(),h=C(),m=T(()=>{const u=c.path;return u.startsWith("/users")?"/users/list":u.startsWith("/images")?u.includes("analytics")?"/images/analytics":"/images/list":u.startsWith("/system")?u.includes("logs")?"/system/logs":"/system/config":"/dashboard"});return(u,s)=>{const o=L,r=se,p=ne,v=ee;return f(),g("div",xe,[l("div",we,[l("div",Ee,[e(o,{class:"logo-icon",size:32},{default:t(()=>[e(a(te))]),_:1}),e(M,{name:"fade"},{default:t(()=>[R(l("span",Ce," 管理后台 ",512),[[j,!a(h).sidebarCollapsed]])]),_:1})])]),l("div",ke,[e(v,{"default-active":m.value,collapse:a(h).sidebarCollapsed,"unique-opened":!0,router:"",class:"sidebar-menu-el"},{default:t(()=>[e(r,{index:"/dashboard"},{title:t(()=>s[0]||(s[0]=[d("仪表盘")])),default:t(()=>[e(o,null,{default:t(()=>[e(a(ae))]),_:1})]),_:1}),e(p,{index:"/users"},{title:t(()=>[e(o,null,{default:t(()=>[e(a(w))]),_:1}),s[1]||(s[1]=l("span",null,"用户管理",-1))]),default:t(()=>[e(r,{index:"/users/list"},{title:t(()=>s[2]||(s[2]=[d("用户列表")])),default:t(()=>[e(o,null,{default:t(()=>[e(a(F))]),_:1})]),_:1})]),_:1}),e(p,{index:"/images"},{title:t(()=>[e(o,null,{default:t(()=>[e(a(oe))]),_:1}),s[3]||(s[3]=l("span",null,"图片管理",-1))]),default:t(()=>[e(r,{index:"/images/list"},{title:t(()=>s[4]||(s[4]=[d("图片列表")])),default:t(()=>[e(o,null,{default:t(()=>[e(a(F))]),_:1})]),_:1}),e(r,{index:"/images/analytics"},{title:t(()=>s[5]||(s[5]=[d("生成分析")])),default:t(()=>[e(o,null,{default:t(()=>[e(a(le))]),_:1})]),_:1})]),_:1}),e(r,{index:"/generate"},{title:t(()=>s[6]||(s[6]=[d("AI图片生成")])),default:t(()=>[e(o,null,{default:t(()=>[e(a(ue))]),_:1})]),_:1}),e(p,{index:"/system"},{title:t(()=>[e(o,null,{default:t(()=>[e(a(V))]),_:1}),s[7]||(s[7]=l("span",null,"系统设置",-1))]),default:t(()=>[e(r,{index:"/system/config"},{title:t(()=>s[8]||(s[8]=[d("系统配置")])),default:t(()=>[e(o,null,{default:t(()=>[e(a(ie))]),_:1})]),_:1}),e(r,{index:"/system/logs"},{title:t(()=>s[9]||(s[9]=[d("系统日志")])),default:t(()=>[e(o,null,{default:t(()=>[e(a(de))]),_:1})]),_:1})]),_:1})]),_:1},8,["default-active","collapse"])])])}}}),$e=k(Se,[["__scopeId","data-v-1d0159ad"]]),Be={class:"header"},De={class:"header-left"},Fe={class:"header-right"},Te={class:"user-info"},Ie={class:"user-name"},Me=E({__name:"Header",setup(S){const c=I(),h=Y(),m=Z(),u=C(),s=G(!1),o=T(()=>{const i=c.path,n=[{title:"首页",path:"/dashboard"}];return i.startsWith("/users")?(n.push({title:"用户管理",path:"/users"}),i==="/users/list"&&n.push({title:"用户列表",path:"/users/list"})):i.startsWith("/images")?(n.push({title:"图片管理",path:"/images"}),i==="/images/list"?n.push({title:"图片列表",path:"/images/list"}):i==="/images/analytics"&&n.push({title:"生成分析",path:"/images/analytics"})):i.startsWith("/system")&&(n.push({title:"系统设置",path:"/system"}),i==="/system/config"?n.push({title:"系统配置",path:"/system/config"}):i==="/system/logs"&&n.push({title:"系统日志",path:"/system/logs"})),n}),r=()=>{document.fullscreenElement?(document.exitFullscreen(),s.value=!1):(document.documentElement.requestFullscreen(),s.value=!0)},p=()=>{s.value=!!document.fullscreenElement},v=async i=>{switch(i){case"profile":break;case"settings":break;case"logout":try{await pe.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await m.logout(),h.push("/login")}catch{}break}};return W(()=>{document.addEventListener("fullscreenchange",p)}),Q(()=>{document.removeEventListener("fullscreenchange",p)}),(i,n)=>{const y=re,q=fe,z=ce,$=_e,b=L,N=he,x=ve,U=ge,H=me;return f(),g("div",Be,[l("div",De,[e(y,{class:"collapse-btn",icon:a(u).sidebarCollapsed?"Expand":"Fold",onClick:a(u).toggleSidebar},null,8,["icon","onClick"]),e(z,{class:"breadcrumb",separator:"/"},{default:t(()=>[(f(!0),g(J,null,K(o.value,_=>(f(),A(q,{key:_.path,to:_.path===a(c).path?void 0:_.path},{default:t(()=>[d(D(_.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),l("div",Fe,[e($,{content:"切换主题",placement:"bottom"},{default:t(()=>[e(y,{class:"theme-btn",icon:a(u).isDark?"Sunny":"Moon",circle:"",onClick:a(u).toggleTheme},null,8,["icon","onClick"])]),_:1}),e($,{content:"全屏",placement:"bottom"},{default:t(()=>[e(y,{class:"fullscreen-btn",icon:s.value?"Aim":"FullScreen",circle:"",onClick:r},null,8,["icon"])]),_:1}),e(H,{class:"user-dropdown",onCommand:v},{dropdown:t(()=>[e(U,null,{default:t(()=>[e(x,{command:"profile"},{default:t(()=>[e(b,null,{default:t(()=>[e(a(w))]),_:1}),n[0]||(n[0]=d(" 个人资料 "))]),_:1,__:[0]}),e(x,{command:"settings"},{default:t(()=>[e(b,null,{default:t(()=>[e(a(V))]),_:1}),n[1]||(n[1]=d(" 账户设置 "))]),_:1,__:[1]}),e(x,{divided:"",command:"logout"},{default:t(()=>[e(b,null,{default:t(()=>[e(a(ye))]),_:1}),n[2]||(n[2]=d(" 退出登录 "))]),_:1,__:[2]})]),_:1})]),default:t(()=>{var _,B;return[l("div",Te,[e(N,{size:32,src:(_=a(m).user)==null?void 0:_.avatar,class:"user-avatar"},{default:t(()=>[e(b,null,{default:t(()=>[e(a(w))]),_:1})]),_:1},8,["src"]),l("span",Ie,D(((B=a(m).user)==null?void 0:B.username)||"管理员"),1),e(b,{class:"dropdown-icon"},{default:t(()=>[e(a(be))]),_:1})])]}),_:1})])])}}}),We=k(Me,[["__scopeId","data-v-c4cd6796"]]),Ae={class:"layout-container"},Le={class:"layout-main"},Ve={class:"layout-header"},qe={class:"layout-content"},ze={class:"content-wrapper"},Ne=E({__name:"index",setup(S){const c=C();return W(()=>{c.initSidebar()}),(h,m)=>{const u=P("router-view");return f(),g("div",Ae,[l("aside",{class:O(["layout-sidebar",{"is-collapsed":a(c).sidebarCollapsed}])},[e($e)],2),l("div",Le,[l("header",Ve,[e(We)]),l("main",qe,[l("div",ze,[e(u,null,{default:t(({Component:s,route:o})=>[e(M,{name:"fade",mode:"out-in"},{default:t(()=>[(f(),A(X(s),{key:o.path}))]),_:2},1024)]),_:1})])])])])}}}),je=k(Ne,[["__scopeId","data-v-126d13f7"]]);export{je as default};
