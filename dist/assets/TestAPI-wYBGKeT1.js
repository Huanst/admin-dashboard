import{b as _}from"./element-plus-wIhg9Y3M.js";import{_ as f,u as I}from"./index-BLw7aUal.js";import{u as A}from"./api-D78is_CB.js";import{bu as p,bT as c,bV as s,c9 as l,bw as r,cb as P,c6 as g,c4 as b,c8 as k,bU as d}from"./vendor-CXaOXOXP.js";const y={class:"test-api"},N={class:"test-section"},S={class:"test-section"},x={key:0,class:"api-result"},T={key:1,class:"api-error"},V={__name:"TestAPI",setup(B){const o=I(),u=p(!1),n=p(null),a=p(null),v=async()=>{var i,e;u.value=!0,n.value=null,a.value=null;try{console.log("开始测试用户列表API..."),console.log("当前token:",o.token);const t={page:1,pageSize:10};console.log("请求参数:",t);const m=await A.getUsers(t);console.log("API响应:",m),n.value=m}catch(t){console.error("API测试失败:",t),a.value={message:t.message,response:(i=t.response)==null?void 0:i.data,status:(e=t.response)==null?void 0:e.status}}finally{u.value=!1}};return(i,e)=>{const t=_;return d(),c("div",y,[e[5]||(e[5]=s("h2",null,"API测试页面",-1)),s("div",N,[e[0]||(e[0]=s("h3",null,"认证状态",-1)),s("p",null,"Token: "+l(r(o).token?"已获取":"未获取"),1),s("p",null,"用户: "+l(r(o).user?r(o).user.username:"未登录"),1),s("p",null,"登录状态: "+l(r(o).isLoggedIn?"已登录":"未登录"),1)]),s("div",S,[e[4]||(e[4]=s("h3",null,"用户列表API测试",-1)),P(t,{onClick:v,loading:u.value},{default:b(()=>e[1]||(e[1]=[k("测试用户列表API")])),_:1,__:[1]},8,["loading"]),n.value?(d(),c("div",x,[e[2]||(e[2]=s("h4",null,"API响应结果:",-1)),s("pre",null,l(JSON.stringify(n.value,null,2)),1)])):g("",!0),a.value?(d(),c("div",T,[e[3]||(e[3]=s("h4",null,"API错误:",-1)),s("pre",null,l(JSON.stringify(a.value,null,2)),1)])):g("",!0)])])}}},U=f(V,[["__scopeId","data-v-3b17e4e3"]]);export{U as default};
