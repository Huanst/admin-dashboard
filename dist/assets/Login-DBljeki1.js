import{d as h,b as w,e as x,f as y}from"./element-plus-wIhg9Y3M.js";import{bL as V,bu as k,cl as S,bT as B,bV as e,cb as s,c4 as t,cj as C,bw as a,dT as E,bU as F,cB as p,c8 as L,c9 as T}from"./vendor-CXaOXOXP.js";import{u as R,a as U,_ as z}from"./index-BLw7aUal.js";const I={class:"login-container"},K={class:"login-box"},N={class:"login-footer"},q={class:"theme-toggle"},D=V({__name:"Login",setup(M){const _=E(),n=R(),d=U(),i=k(),l=S({username:"",password:""}),f={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应为3-20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度应为6-20个字符",trigger:"blur"}]},r=async()=>{if(!i.value||!await i.value.validate().catch(()=>!1))return;(await n.login(l)).success&&_.push("/")};return(b,o)=>{const m=y,c=x,g=w,v=h;return F(),B("div",I,[e("div",K,[o[2]||(o[2]=e("div",{class:"login-header"},[e("h1",{class:"login-title"},"后台管理系统"),e("p",{class:"login-subtitle"},"欢迎登录管理后台")],-1)),s(v,{ref_key:"loginFormRef",ref:i,model:l,rules:f,class:"login-form",onSubmit:C(r,["prevent"])},{default:t(()=>[s(c,{prop:"username"},{default:t(()=>[s(m,{modelValue:l.username,"onUpdate:modelValue":o[0]||(o[0]=u=>l.username=u),placeholder:"请输入用户名",size:"large","prefix-icon":"User",onKeyup:p(r,["enter"])},null,8,["modelValue"])]),_:1}),s(c,{prop:"password"},{default:t(()=>[s(m,{modelValue:l.password,"onUpdate:modelValue":o[1]||(o[1]=u=>l.password=u),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",onKeyup:p(r,["enter"])},null,8,["modelValue"])]),_:1}),s(c,null,{default:t(()=>[s(g,{type:"primary",size:"large",class:"login-btn",loading:a(n).loading,onClick:r},{default:t(()=>[L(T(a(n).loading?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e("div",N,[e("div",q,[s(g,{icon:a(d).isDark?"Sunny":"Moon",circle:"",onClick:a(d).toggleTheme},null,8,["icon","onClick"])])])]),o[3]||(o[3]=e("div",{class:"bg-decoration"},[e("div",{class:"bg-circle bg-circle-1"}),e("div",{class:"bg-circle bg-circle-2"}),e("div",{class:"bg-circle bg-circle-3"})],-1))])}}}),H=z(D,[["__scopeId","data-v-30bbbe97"]]);export{H as default};
