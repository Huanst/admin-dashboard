# 系统设置使用指南

## 功能概述

系统设置模块提供了完整的后台管理系统配置和监控功能，包括系统配置管理和系统日志查看。

## 访问方式

### 方法一：侧边栏导航
1. 登录后台管理系统
2. 在左侧导航栏找到"系统设置"菜单
3. 点击进入系统设置主页

### 方法二：直接访问
- 系统设置主页：`/system`
- 系统配置页面：`/system/config`
- 系统日志页面：`/system/logs`

## 系统设置主页

### 页面布局
- **页面头部**：显示模块标题和描述
- **功能卡片**：系统配置和系统日志的快速入口
- **状态概览**：系统运行状态的实时信息

### 功能卡片

#### 系统配置卡片
- **图标**：工具图标，蓝色渐变背景
- **功能**：点击跳转到系统配置页面
- **描述**：配置系统基本信息、文件上传设置、用户注册设置等
- **标签**：基础配置、文件设置、用户设置

#### 系统日志卡片
- **图标**：文档图标，绿色渐变背景
- **功能**：点击跳转到系统日志页面
- **描述**：查看系统运行日志、错误记录、用户操作记录等
- **标签**：错误日志、警告日志、操作记录

### 系统状态概览
- **系统状态**：显示系统是否正常运行
- **运行时间**：显示系统连续运行时间
- **今日错误**：显示今天的错误日志数量
- **在线用户**：显示当前在线用户数量

## 系统配置页面

### 基础配置
```
系统名称：后台管理系统的显示名称
系统版本：当前系统版本号
管理员邮箱：系统管理员联系邮箱
```

### 文件上传配置
```
最大文件大小：单个文件上传的大小限制（MB）
允许的文件格式：支持上传的文件类型
- 图片格式：jpg, jpeg, png, gif
- 文档格式：pdf, doc, docx, txt
- 其他格式：zip, rar
```

### 用户设置
```
启用用户注册：是否允许新用户注册
启用邮箱验证：注册时是否需要邮箱验证
默认用户角色：新注册用户的默认角色
- user：普通用户
- admin：管理员
```

### 邮件配置
```
SMTP服务器：邮件服务器地址
SMTP端口：邮件服务器端口（通常587或465）
SMTP用户名：邮件服务器登录用户名
SMTP密码：邮件服务器登录密码
启用SSL：是否使用SSL加密连接
```

### 安全设置
```
最小密码长度：用户密码的最小字符数
最大登录尝试次数：连续登录失败的最大次数
账户锁定时长：账户被锁定的时间（分钟）
会话超时时间：用户会话的有效时间（小时）
```

### 操作说明
1. **修改配置**：在相应的输入框中修改配置值
2. **保存配置**：点击"保存配置"按钮提交修改
3. **重置配置**：点击"重置"按钮恢复到原始值
4. **表单验证**：系统会自动验证输入的有效性

## 系统日志页面

### 筛选功能

#### 日志级别筛选
- **全部**：显示所有级别的日志
- **错误**：只显示错误级别的日志
- **警告**：只显示警告级别的日志
- **信息**：只显示信息级别的日志
- **调试**：只显示调试级别的日志

#### 日志类型筛选
- **全部**：显示所有类型的日志
- **系统**：系统级别的操作日志
- **用户操作**：用户行为记录
- **API调用**：接口调用记录
- **数据库**：数据库操作记录
- **文件操作**：文件上传下载记录

#### 时间范围筛选
- 选择开始时间和结束时间
- 支持精确到秒的时间筛选
- 可以查看特定时间段的日志

#### 关键词搜索
- 在日志内容中搜索特定关键词
- 支持模糊匹配
- 实时搜索结果更新

### 日志统计
页面顶部显示四个统计卡片：
- **错误日志**：红色图标，显示错误日志总数
- **警告日志**：橙色图标，显示警告日志总数
- **信息日志**：蓝色图标，显示信息日志总数
- **总日志数**：灰色图标，显示所有日志总数

### 日志列表

#### 列表字段
- **时间**：日志记录的时间戳
- **级别**：日志级别标签（错误/警告/信息/调试）
- **类型**：日志类型标签
- **日志内容**：日志的具体信息
- **用户**：触发日志的用户（如果有）
- **IP地址**：操作来源的IP地址
- **操作**：查看详情按钮

#### 排序功能
- 点击列标题可以按该字段排序
- 支持升序和降序排列
- 默认按时间倒序排列

#### 分页功能
- 支持每页显示20/50/100/200条记录
- 页面底部显示分页导航
- 显示总记录数和当前页信息

### 日志详情
点击"详情"按钮可以查看日志的完整信息：
- **基本信息**：时间、级别、类型、用户、IP地址
- **用户代理**：浏览器和操作系统信息
- **日志内容**：完整的日志消息
- **详细信息**：错误代码、模块、函数等技术信息
- **堆栈信息**：错误日志的完整堆栈跟踪

### 日志管理

#### 刷新日志
- 点击"刷新"按钮重新加载日志数据
- 获取最新的日志记录

#### 导出日志
1. 点击"导出日志"按钮
2. 系统会根据当前筛选条件导出日志
3. 生成文本文件供下载
4. 文件名格式：`system-logs-YYYY-MM-DD.txt`

#### 清空日志
1. 点击"清空日志"按钮
2. 系统会弹出确认对话框
3. 确认后清空所有历史日志
4. **注意**：此操作不可恢复

## 使用技巧

### 快速查找问题
1. 使用日志级别筛选快速定位错误
2. 结合时间范围缩小查找范围
3. 使用关键词搜索定位具体问题
4. 查看日志详情获取完整信息

### 系统监控
1. 定期查看错误日志统计
2. 关注系统状态概览信息
3. 监控用户操作记录
4. 及时处理异常情况

### 配置管理
1. 修改配置前先记录原始值
2. 重要配置修改后及时测试
3. 定期备份系统配置
4. 关注配置修改的日志记录

## 权限说明

- **访问权限**：只有管理员角色可以访问系统设置
- **操作权限**：所有配置修改都需要管理员权限
- **日志权限**：管理员可以查看所有用户的操作日志
- **安全保护**：敏感信息（如密码）不会明文显示

## 注意事项

1. **配置修改**：重要配置修改可能需要重启系统生效
2. **日志清空**：清空日志操作不可恢复，请谨慎操作
3. **文件大小**：文件上传限制修改后立即生效
4. **邮件配置**：修改邮件配置后建议发送测试邮件验证
5. **安全设置**：密码策略修改只对新密码生效

## 故障排除

### 配置保存失败
- 检查网络连接是否正常
- 确认输入的配置值是否有效
- 查看浏览器控制台的错误信息
- 检查服务器日志

### 日志加载缓慢
- 减少查询的时间范围
- 使用更精确的筛选条件
- 检查网络连接速度
- 考虑清理过期日志

### 页面无法访问
- 确认用户具有管理员权限
- 检查登录状态是否有效
- 确认路由配置是否正确
- 查看服务器运行状态

通过系统设置模块，管理员可以全面掌控后台管理系统的运行状态和配置参数，确保系统的稳定性和安全性。
